(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Te(e,t){const{tag:r,id:n,className:i}=Ie(e),s=t?document.createElementNS(t,r):document.createElement(r);return n&&(s.id=n),i&&(t?s.setAttribute("class",i):s.className=i),s}function Ie(e){const t=e.split(/([.#])/);let r="",n="";for(let i=1;i<t.length;i+=2)switch(t[i]){case".":r+=` ${t[i+1]}`;break;case"#":n=t[i+1]}return{className:r.trim(),tag:t[0]||"div",id:n}}function I(e,...t){let r;const n=typeof e;if(n==="string")r=Te(e);else if(n==="function"){const i=e;r=new i(...t)}else throw new Error("At least one argument required");return ae(_(r),t),r}const v=I;I.extend=function(...t){return I.bind(this,...t)};function U(e,t){const r=_(e),n=_(t);return t===n&&n.__redom_view&&(t=n.__redom_view),n.parentNode&&(re(t,n,r),r.removeChild(n)),t}function re(e,t,r){const n=t.__redom_lifecycle;if(K(n)){t.__redom_lifecycle={};return}let i=r;for(t.__redom_mounted&&R(t,"onunmount");i;){const s=i.__redom_lifecycle||{};for(const u in n)s[u]&&(s[u]-=n[u]);K(s)&&(i.__redom_lifecycle=null),i=i.parentNode}}function K(e){if(e==null)return!0;for(const t in e)if(e[t])return!1;return!0}const je=["onmount","onremount","onunmount"],Be=typeof window<"u"&&"ShadowRoot"in window;function A(e,t,r,n){const i=_(e),s=_(t);t===s&&s.__redom_view&&(t=s.__redom_view),t!==s&&(s.__redom_view=t);const u=s.__redom_mounted,c=s.parentNode;if(u&&c!==i&&re(t,s,c),r!=null)if(n){const p=_(r);p.__redom_mounted&&R(p,"onunmount"),i.replaceChild(s,p)}else i.insertBefore(s,_(r));else i.appendChild(s);return Ue(t,s,i,c),t}function R(e,t){t==="onmount"||t==="onremount"?e.__redom_mounted=!0:t==="onunmount"&&(e.__redom_mounted=!1);const r=e.__redom_lifecycle;if(!r)return;const n=e.__redom_view;let i=0;n&&n[t]&&n[t]();for(const s in r)s&&i++;if(i){let s=e.firstChild;for(;s;){const u=s.nextSibling;R(s,t),s=u}}}function Ue(e,t,r,n){const i=t.__redom_lifecycle||(t.__redom_lifecycle={}),s=r===n;let u=!1;for(const m of je)s||e!==t&&m in e&&(i[m]=(i[m]||0)+1),i[m]&&(u=!0);if(!u){t.__redom_lifecycle={};return}let c=r,p=!1;for((s||c&&c.__redom_mounted)&&(R(t,s?"onremount":"onmount"),p=!0);c;){const m=c.parentNode,g=c.__redom_lifecycle||(c.__redom_lifecycle={});for(const y in i)g[y]=(g[y]||0)+i[y];if(p)break;(c.nodeType===Node.DOCUMENT_NODE||Be&&c instanceof ShadowRoot||m&&m.__redom_mounted)&&(R(c,s?"onremount":"onmount"),p=!0),c=m}}function Me(e,t,r){const n=_(e);if(typeof t=="object")for(const i in t)Q(n,i,t[i]);else Q(n,t,r)}function Q(e,t,r){e.style[t]=r??""}const Y="http://www.w3.org/1999/xlink";function ie(e,t,r,n){const i=_(e);if(typeof t=="object")for(const u in t)ie(i,u,t[u]);else{const u=i instanceof SVGElement,c=typeof r=="function";if(t==="style"&&typeof r=="object")Me(i,r);else if(u&&c)i[t]=r;else if(t==="dataset")se(i,r);else if(!u&&(t in i||c)&&t!=="list")i[t]=r;else{if(u&&t==="xlink"){oe(i,r);return}t==="class"&&(r=i.className+" "+r),r==null?i.removeAttribute(t):i.setAttribute(t,r)}}}function oe(e,t,r){if(typeof t=="object")for(const n in t)oe(e,n,t[n]);else r!=null?e.setAttributeNS(Y,t,r):e.removeAttributeNS(Y,t,r)}function se(e,t,r){if(typeof t=="object")for(const n in t)se(e,n,t[n]);else r!=null?e.dataset[t]=r:delete e.dataset[t]}function Ge(e){return document.createTextNode(e??"")}function ae(e,t,r){for(const n of t){if(n!==0&&!n)continue;const i=typeof n;i==="function"?n(e):i==="string"||i==="number"?e.appendChild(Ge(n)):ue(_(n))?A(e,n):n.length?ae(e,n):i==="object"&&ie(e,n,null)}}function _(e){return e.nodeType&&e||!e.el&&e||_(e.el)}function ue(e){return e&&e.nodeType}function J(e,...t){const r=_(e);let n=ce(e,t,r.firstChild);for(;n;){const i=n.nextSibling;U(e,n),n=i}}function ce(e,t,r){let n=r;const i=Array(t.length);for(let s=0;s<t.length;s++)i[s]=t[s]&&_(t[s]);for(let s=0;s<t.length;s++){const u=t[s];if(!u)continue;const c=i[s];if(c===n){n=n.nextSibling;continue}if(ue(c)){const p=n&&n.nextSibling,g=u.__redom_index!=null&&p===i[s+1];A(e,u,n,g),g&&(n=p);continue}u.length!=null&&(n=ce(e,u,n))}return n}const De=e=>{const t=v("div",{class:"container-xl"}),r=v("div",{class:"list list-group"});e.forEach(n=>{const i=v("a",{href:`/${n.name.common}`,class:"list-group-item list-group-item-action"},n.name.official);A(r,i)}),A(t,r),A(document.getElementById("app"),t)},$e=e=>{const t=v("div",{class:"container"}),r=e[0],n=v("div",{class:"card card-country"}),i=v("img",{src:`${r.coatOfArms.svg||r.flags.svg}`,class:"card-img-top img"}),s=v("div",{class:"card-body card-body_country"}),u=v("div",{class:"card-title"},`Country: ${r.name.official}`),c=v("div",{class:"card-capital"},`Capital: ${r.capital}`),p=v("img",{src:`${r.flags.svg}`,class:"card-flag"});J(s,[u,c,p]),J(n,[i,s]),A(t,n),A(document.getElementById("app"),t)},fe=()=>{const e=v("div","Ошибка, перезагрузите страницу или попробуйте позднее",{class:"error"});return A(document.getElementById("app"),e),e},P=v("div",{class:"spinner-wrap"},[v("div",{class:"spinner-border spinner",role:"status"},[v("span",{class:"visually-hidden"},"Загрузка...")])]);var qe=/([:*])(\w+)/g,We="([^/]+)",Xe=/\*/g,Ve="?(?:.*)",ze=/\/\?/g,Ke="/?([^/]+|)",Qe="(?:/^|^)",Ye="";function le(e){return e===void 0&&(e="/"),G()?location.pathname+location.search+location.hash:e}function h(e){return e.replace(/\/+$/,"").replace(/^\/+/,"")}function C(e){return typeof e=="string"}function Je(e){return typeof e=="function"}function H(e){return e&&e.indexOf("#")>=0&&e.split("#").pop()||""}function Ze(e,t){return t.length===0||!e?null:e.slice(1,e.length).reduce(function(r,n,i){return r===null&&(r={}),r[t[i]]=decodeURIComponent(n),r},null)}function N(e){var t=h(e).split(/\?(.*)?$/);return[h(t[0]),t.slice(1).join("")]}function M(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i=r[n].split("=");if(i[0]!==""){var s=decodeURIComponent(i[0]);t[s]?(Array.isArray(t[s])||(t[s]=[t[s]]),t[s].push(decodeURIComponent(i[1]||""))):t[s]=decodeURIComponent(i[1]||"")}}return t}function de(e,t){var r=N(h(e.currentLocationPath)),n=r[0],i=r[1],s=i===""?null:M(i),u=[],c;if(C(t.path)){if(c=Qe+h(t.path).replace(qe,function(y,L,O){return u.push(O),We}).replace(Xe,Ve).replace(ze,Ke)+"$",h(t.path)===""&&h(n)==="")return{url:n,queryString:i,hashString:H(e.to),route:t,data:null,params:s}}else c=t.path;var p=new RegExp(c,Ye),m=n.match(p);if(m){var g=C(t.path)?Ze(m,u):m.groups?m.groups:m.slice(1);return{url:h(n.replace(new RegExp("^"+e.instance.root),"")),queryString:i,hashString:H(e.to),route:t,data:g,params:s}}return!1}function he(){return!!(typeof window<"u"&&window.history&&window.history.pushState)}function k(e,t){return typeof e[t]>"u"||e[t]===!0}function xe(e){if(!e)return{};var t=e.split(","),r={},n;return t.forEach(function(i){var s=i.split(":").map(function(u){return u.replace(/(^ +| +$)/g,"")});switch(s[0]){case"historyAPIMethod":r.historyAPIMethod=s[1];break;case"resolveOptionsStrategy":n||(n={}),n.strategy=s[1];break;case"resolveOptionsHash":n||(n={}),n.hash=s[1]==="true";break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":r[s[0]]=s[1]==="true";break}}),n&&(r.resolveOptions=n),r}function G(){return typeof window<"u"}function et(e,t){return e===void 0&&(e=[]),t===void 0&&(t={}),e.filter(function(r){return r}).forEach(function(r){["before","after","already","leave"].forEach(function(n){r[n]&&(t[n]||(t[n]=[]),t[n].push(r[n]))})}),t}function w(e,t,r){var n=t||{},i=0;(function s(){if(!e[i]){r&&r(n);return}Array.isArray(e[i])?(e.splice.apply(e,[i,1].concat(e[i][0](n)?e[i][1]:e[i][2])),s()):e[i](n,function(u){typeof u>"u"||u===!0?(i+=1,s()):r&&r(n)})})()}w.if=function(e,t,r){return Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]),[e,t,r]};function Z(e,t){typeof e.currentLocationPath>"u"&&(e.currentLocationPath=e.to=le(e.instance.root)),e.currentLocationPath=e.instance._checkForAHash(e.currentLocationPath),t()}function F(e,t){for(var r=0;r<e.instance.routes.length;r++){var n=e.instance.routes[r],i=de(e,n);if(i&&(e.matches||(e.matches=[]),e.matches.push(i),e.resolveOptions.strategy==="ONE")){t();return}}t()}function tt(e,t){e.navigateOptions&&(typeof e.navigateOptions.shouldResolve<"u"&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),typeof e.navigateOptions.silent<"u"&&console.warn('"silent" is deprecated. Please check the documentation.')),t()}function nt(e,t){e.navigateOptions.force===!0?(e.instance._setCurrent([e.instance._pathToMatchObject(e.to)]),t(!1)):t()}var x=G(),rt=he();function it(e,t){if(k(e.navigateOptions,"updateBrowserURL")){var r=("/"+e.to).replace(/\/\//g,"/"),n=x&&e.resolveOptions&&e.resolveOptions.hash===!0;rt?(history[e.navigateOptions.historyAPIMethod||"pushState"](e.navigateOptions.stateObj||{},e.navigateOptions.title||"",n?"#"+r:r),location&&location.hash&&(e.instance.__freezeListening=!0,setTimeout(function(){if(!n){var i=location.hash;location.hash="",location.hash=i}e.instance.__freezeListening=!1},1))):x&&(window.location.href=e.to)}t()}function pe(e,t){var r=e.instance;if(!r.lastResolved()){t();return}w(r.lastResolved().map(function(n){return function(i,s){if(!n.route.hooks||!n.route.hooks.leave){s();return}var u=!1,c=e.instance.matchLocation(n.route.path,e.currentLocationPath,!1);if(n.route.path!=="*")u=!c;else{var p=e.matches?e.matches.find(function(m){return n.route.path===m.route.path}):!1;u=!p}if(k(e.navigateOptions,"callHooks")&&u){w(n.route.hooks.leave.map(function(m){return function(g,y){return m(function(L){L===!1?e.instance.__markAsClean(e):y()},e.matches&&e.matches.length>0?e.matches.length===1?e.matches[0]:e.matches:void 0)}}).concat([function(){return s()}]));return}else s()}}),{},function(){return t()})}function ot(e,t){e.match.route.hooks&&e.match.route.hooks.before&&k(e.navigateOptions,"callHooks")?w(e.match.route.hooks.before.map(function(r){return function(i,s){return r(function(u){u===!1?e.instance.__markAsClean(e):s()},e.match)}}).concat([function(){return t()}])):t()}function st(e,t){k(e.navigateOptions,"callHandler")&&e.match.route.handler(e.match),e.instance.updatePageLinks(),t()}function at(e,t){e.match.route.hooks&&e.match.route.hooks.after&&k(e.navigateOptions,"callHooks")&&e.match.route.hooks.after.forEach(function(r){return r(e.match)}),t()}function ut(e,t){var r=e.instance.lastResolved();if(r&&r[0]&&r[0].route===e.match.route&&r[0].url===e.match.url&&r[0].queryString===e.match.queryString){r.forEach(function(n){n.route.hooks&&n.route.hooks.already&&k(e.navigateOptions,"callHooks")&&n.route.hooks.already.forEach(function(i){return i(e.match)})}),t(!1);return}t()}function ct(e,t){var r=e.instance._notFoundRoute;if(r){e.notFoundHandled=!0;var n=N(e.currentLocationPath),i=n[0],s=n[1],u=H(e.to);r.path=h(i);var c={url:r.path,queryString:s,hashString:u,data:null,route:r,params:s!==""?M(s):null};e.matches=[c],e.match=c}t()}function ft(e,t){(!e.resolveOptions||e.resolveOptions.noMatchWarning===!1||typeof e.resolveOptions.noMatchWarning>"u")&&console.warn('Navigo: "'+e.currentLocationPath+`" didn't match any of the registered routes.`),t()}function lt(e,t){e.instance._setCurrent(null),t()}function me(e,t){k(e.navigateOptions,"updateState")&&e.instance._setCurrent(e.matches),t()}var ve=[ut,ot,st,at],ee=[pe,ct,w.if(function(e){var t=e.notFoundHandled;return t},ve.concat([me]),[ft,lt])];function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}function te(e,t){var r=0;function n(){if(r===e.matches.length){me(e,t);return}w(ve,j({},e,{match:e.matches[r]}),function(){r+=1,n()})}pe(e,n)}function T(e){e.instance.__markAsClean(e)}function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B.apply(this,arguments)}var ne="[data-navigo]";function dt(e,t){var r=t||{strategy:"ONE",hash:!1,noMatchWarning:!1,linksSelector:ne},n=this,i="/",s=null,u=[],c=!1,p,m=he(),g=G();e?i=h(e):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.');function y(o){return o.indexOf("#")>=0&&(r.hash===!0?o=o.split("#")[1]||"/":o=o.split("#")[0]),o}function L(o){return h(i+"/"+h(o))}function O(o,a,f,d){return o=C(o)?L(o):o,{name:d||h(String(o)),path:o,handler:a,hooks:et(f)}}function _e(o,a,f){var d=this;return typeof o=="object"&&!(o instanceof RegExp)?(Object.keys(o).forEach(function(l){if(typeof o[l]=="function")d.on(l,o[l]);else{var E=o[l],b=E.uses,Ne=E.as,Fe=E.hooks;u.push(O(l,b,[p,Fe],Ne))}}),this):(typeof o=="function"&&(f=a,a=o,o=i),u.push(O(o,a,[p,f])),this)}function $(o,a){if(n.__dirty){n.__waiting.push(function(){return n.resolve(o,a)});return}else n.__dirty=!0;o=o?h(i)+"/"+h(o):void 0;var f={instance:n,to:o,currentLocationPath:o,navigateOptions:{},resolveOptions:B({},r,a)};return w([Z,F,w.if(function(d){var l=d.matches;return l&&l.length>0},te,ee)],f,T),f.matches?f.matches:!1}function q(o,a){if(n.__dirty){n.__waiting.push(function(){return n.navigate(o,a)});return}else n.__dirty=!0;o=h(i)+"/"+h(o);var f={instance:n,to:o,navigateOptions:a||{},resolveOptions:a&&a.resolveOptions?a.resolveOptions:r,currentLocationPath:y(o)};w([tt,nt,F,w.if(function(d){var l=d.matches;return l&&l.length>0},te,ee),it,T],f,T)}function ge(o,a,f){var d=X(o,a);return d!==null?(q(d.replace(new RegExp("^/?"+i),""),f),!0):!1}function ye(o){return this.routes=u=u.filter(function(a){return C(o)?h(a.path)!==h(o):Je(o)?o!==a.handler:String(a.path)!==String(o)}),this}function Ee(){m&&(this.__popstateListener=function(){n.__freezeListening||$()},window.addEventListener("popstate",this.__popstateListener))}function we(){this.routes=u=[],m&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=c=!0}function Ae(o,a){return n._notFoundRoute=O("*",o,[p,a],"__NOT_FOUND__"),this}function W(){if(g)return Le().forEach(function(o){if(o.getAttribute("data-navigo")==="false"||o.getAttribute("target")==="_blank"){o.hasListenerAttached&&o.removeEventListener("click",o.navigoHandler);return}o.hasListenerAttached||(o.hasListenerAttached=!0,o.navigoHandler=function(a){if((a.ctrlKey||a.metaKey)&&a.target.tagName.toLowerCase()==="a")return!1;var f=o.getAttribute("href");if(typeof f>"u"||f===null)return!1;if(f.match(/^(http|https)/)&&typeof URL<"u")try{var d=new URL(f);f=d.pathname+d.search}catch{}var l=xe(o.getAttribute("data-navigo-options"));c||(a.preventDefault(),a.stopPropagation(),n.navigate(h(f),l))},o.addEventListener("click",o.navigoHandler))}),n}function Le(){return g?[].slice.call(document.querySelectorAll(r.linksSelector||ne)):[]}function ke(o){return"/"+i+"/"+h(o)}function Oe(o){return p=o,this}function be(){return s}function X(o,a,f){var d=u.find(function(b){return b.name===o}),l=null;if(d){if(l=d.path,a)for(var E in a)l=l.replace(":"+E,a[E]);l=l.match(/^\//)?l:"/"+l}return l&&f&&!f.includeRoot&&(l=l.replace(new RegExp("^/"+i),"")),l}function Re(o){return o.getAttribute("href")}function V(o){var a=N(h(o)),f=a[0],d=a[1],l=d===""?null:M(d),E=H(o),b=O(f,function(){},[p],f);return{url:f,queryString:d,hashString:E,route:b,data:null,params:l}}function Se(){return V(h(le(i)).replace(new RegExp("^"+i),""))}function Pe(o){var a={instance:n,currentLocationPath:o,to:o,navigateOptions:{},resolveOptions:r};return F(a,function(){}),a.matches?a.matches:!1}function Ce(o,a,f){typeof a<"u"&&(typeof f>"u"||f)&&(a=L(a));var d={instance:n,to:a,currentLocationPath:a};Z(d,function(){}),typeof o=="string"&&(o=typeof f>"u"||f?L(o):o);var l=de(d,{name:String(o),path:o,handler:function(){},hooks:{}});return l||!1}function S(o,a,f){return typeof a=="string"&&(a=z(a)),a?(a.hooks[o]||(a.hooks[o]=[]),a.hooks[o].push(f),function(){a.hooks[o]=a.hooks[o].filter(function(d){return d!==f})}):(console.warn("Route doesn't exists: "+a),function(){})}function z(o){return typeof o=="string"?u.find(function(a){return a.name===L(o)}):u.find(function(a){return a.handler===o})}function He(o){o.instance.__dirty=!1,o.instance.__waiting.length>0&&o.instance.__waiting.shift()()}this.root=i,this.routes=u,this.destroyed=c,this.current=s,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.__markAsClean=He,this.on=_e,this.off=ye,this.resolve=$,this.navigate=q,this.navigateByName=ge,this.destroy=we,this.notFound=Ae,this.updatePageLinks=W,this.link=ke,this.hooks=Oe,this.extractGETParameters=function(o){return N(y(o))},this.lastResolved=be,this.generate=X,this.getLinkPath=Re,this.match=Pe,this.matchLocation=Ce,this.getCurrentLocation=Se,this.addBeforeHook=S.bind(this,"before"),this.addAfterHook=S.bind(this,"after"),this.addAlreadyHook=S.bind(this,"already"),this.addLeaveHook=S.bind(this,"leave"),this.getRoute=z,this._pathToMatchObject=V,this._clean=h,this._checkForAHash=y,this._setCurrent=function(o){return s=n.current=o},Ee.call(this),W.call(this)}const D=new dt("/"),ht=async()=>(A(document.getElementById("app"),P),await fetch("https://restcountries.com/v3.1/all").then(e=>e.json()).then(e=>{U(document.getElementById("app"),P),De(e)})),pt=async e=>{A(document.getElementById("app"),P),await fetch(`https://restcountries.com/v3.1/name/${e.url}`).then(t=>t.json()).then(t=>{U(document.getElementById("app"),P),$e(t)})};D.on("/",async()=>{try{await ht()}catch{fe()}});D.on("/:country",async e=>{try{await pt(e)}catch{fe()}});D.resolve();
